Port 22
AddressFamily any
ListenAddress 0.0.0.0
ListenAddress ::
HostKey /etc/ssh/ssh_host_ed25519_key

Compression no

LogLevel INFO
SyslogFacility AUTH

MaxAuthTries 3
MaxSessions 5
StrictModes yes
LoginGraceTime 1m

PermitRootLogin no
PubkeyAuthentication yes
PasswordAuthentication no
PermitEmptyPasswords no
MaxStartups 5:20:50
IgnoreRhosts yes
AuthorizedKeysFile .ssh/authorized_keys

KbdInteractiveAuthentication no

UseDNS no
UsePAM yes

PrintMotd no
PrintLastLog no

AllowAgentForwarding no
AllowTcpForwarding yes

ClientAliveInterval 60
ClientAliveCountMax 3

AcceptEnv LANG LC_COLLATE COLORTERM NO_COLOR

Subsystem sftp internal-sftp -l INFO -f AUTH

Ciphers aes256-gcm@openssh.com,chacha20-poly1305@openssh.com,aes128-gcm@openssh.com
KexAlgorithms mlkem768x25519-sha256,curve25519-sha256,sntrup761x25519-sha512
MACs hmac-sha2-512-etm@openssh.com,hmac-sha2-256-etm@openssh.com
HostKeyAlgorithms ssh-ed25519

AllowUsers ssh-user1@ip-or-cidr ssh-user2
AllowGroups ssh-group1 ssh-group2
DenyUsers deny-user1 deny-user2

Match User ssh-user2
	X11Forwarding yes
Match Group ssh-group2
	AllowTcpForwarding no
